全ての画像を読み込んでから処理をしたい場合がある。
全ての画像が読み込まれないと要素の正確な高さを計れなかったりする。そういう時のためのスクリプト。

```javascript
var imagesLoadListener = (function() {
 
    var imageCollector = function(expectedCount, completeFn) {
        var receivedCount = 0;
        return function() {
            receivedCount++;
            if(receivedCount === expectedCount) {
                completeFn();
            }
        };
    };
 
    var imagesLoadListener = function(element, callback) {
        var images = element.querySelectorAll('img');
        if(images === null) {
            callback();
            return;
        }
 
        //画像の数だけloadListenerが呼ばれたらcallbackが呼ばれる;
        var loadListener = imageCollector(images.length, callback);
        Array.prototype.forEach.call(images, function(img) {
            if(img.complete) {
                loadListener();
            }else {
                img.onload = loadListener;
            }
        });
    };
 
    return imagesLoadListener;
})();
```

参考URLは下記より
https://webkatu.com/20151209-images-load-listener/
